{% include 'main/message.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login / Signup</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/login.css' %}" />

    <!-- Boxicons -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="container" class="container">
      <!-- FORM SECTION -->
      <div class="row">
        <!-- SIGN UP -->
        <div class="col align-items-center flex-col sign-up">
          <div class="form-wrapper align-items-center">
            <div class="form sign-up">
              <form method="post" action="{% url 'account:register' %}">
                {% csrf_token %}
                <div class="input-group">
                  <i class="bx bxs-user"></i>
                  {{ signup_form.username }}
                </div>

                <div class="input-group">
                  <i class="bx bx-mail-send"></i>
                  {{ signup_form.email }}
                </div>

                <div class="input-group">
                  <i class="bx bxs-lock-alt"></i>
                  {{ signup_form.password }}
                </div>

                <div class="input-group">
                  <i class="bx bxs-lock-alt"></i>
                  {{ signup_form.confirm_password }}
                </div>

                <button type="submit" name="signup">Sign up</button>
              </form>

              {% if signup_form.errors %}
              <ul style="color: red; font-size: 0.8rem; margin-top: 10px;">
                {% for field in signup_form %}
                  {% for error in field.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                {% endfor %}
              </ul>
              {% endif %}

              <p>
                <span>Already have an account?</span>
                <b onclick="toggle()" class="pointer">Sign in here</b>
              </p>
            </div>
          </div>
        </div>
        <!-- END SIGN UP -->

        <!-- SIGN IN -->
        <div class="col align-items-center flex-col sign-in">
          <div class="form-wrapper align-items-center">
            <div class="form sign-in">
              <form method="post" action="{% url 'account:register' %}">
                {% csrf_token %}
                <div class="input-group">
                  <i class="bx bxs-user"></i>
                  {{ signin_form.username }}
                </div>

                <div class="input-group">
                  <i class="bx bxs-lock-alt"></i>
                  {{ signin_form.password }}
                </div>

                <button type="submit" name="signin">Sign in</button>
              </form>

              {% if signin_form.errors %}
              <ul style="color: red; font-size: 0.8rem; margin-top: 10px;">
                {% for field in signin_form %}
                  {% for error in field.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                {% endfor %}
              </ul>
              {% endif %}

              <p><a href="{% url "account:password_reset" %}">Forget password?</a></p>
              <p>
                <span>Don't have an account?</span>
                <b onclick="toggle()" class="pointer">Sign up here</b>
              </p>
            </div>
          </div>
        </div>
        <!-- END SIGN IN -->
      </div>

      <!-- CONTENT SECTION -->
      <div class="row content-row">
        <!-- SIGN IN SIDE -->
        <div class="col align-items-center flex-col">
          <div class="text sign-in">
            <h2>Welcome</h2>
            <p>Sign in to continue your journey with us</p>
          </div>
          <div class="img sign-in"></div>
        </div>

        <!-- SIGN UP SIDE -->
        <div class="col align-items-center flex-col">
          <div class="img sign-up"></div>
          <div class="text sign-up">
            <h2>Join with us</h2>
            <p>Create an account to get started!</p>
          </div>
        </div>
      </div>
    </div>

    <script src="{% static 'js/login.js' %}"></script>
    <!-- SweetAlert و پیام‌ها -->
    {% include 'main/message.html' %}
  </body>
</html>
